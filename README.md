# CARBONXO - Tokenización de Carbono en Blockchain Stellar

Proyecto de tokenización de créditos de carbono basados en la metodología CONADESUCA para la reducción de emisiones por caña de azúcar sin quemar en Xochitepec, Morelos.

**Plataforma:** Stellar Blockchain + Soroban Smart Contracts  
**Frontend:** React + TypeScript + Vite + Scaffold Stellar  
**Estado:** ✅ Frontend Completo Implementado

- ⚡️ Vite + React + TypeScript
- 🔗 Auto-generated contract clients
- 🧩 Example components for contract interaction
- 🛠 Hot reload for contract changes
- 🧪 Easy local/testnet deployment

This is the starter frontend generated by `stellar scaffold init`. See more at [Scaffold Stellar](https://github.com/AhaLabs/scaffold-stellar).

## Requirements

Before getting started, make sure you’ve met the requirements listed in the [Soroban documentation](https://developers.stellar.org/docs/build/smart-contracts/getting-started/setup) and that the following tools are installed :

- [Rust](https://www.rust-lang.org/tools/install)
- [Cargo](https://doc.rust-lang.org/cargo/) (comes with Rust)
- Rust target: install the compilation target listed in the [Soroban setup guide](https://developers.stellar.org/docs/build/smart-contracts/getting-started/setup)
- [Node.js](https://nodejs.org/en/download/package-manager) (v22, or higher)
- [npm](https://www.npmjs.com/): Comes with the node installer or can also be installed package managers such as Homebrew, Chocolatey, apt, etc.
- [Stellar CLI](https://github.com/stellar/stellar-core)
- [Scaffold Stellar CLI Plugin](https://github.com/AhaLabs/scaffold-stellar)

## Quick Start

To get started with a fresh Scaffold Stellar project, follow the steps below:

1. Initialize a new project:

```bash
stellar scaffold init my-project
cd my-project
```

2. Set up your development environment:

```bash
# Copy and configure environment variables like network and STELLAR_SCAFFOLD_ENV
cp .env.example .env

# Install frontend dependencies
npm install
```

Have a look at `environments.toml` for more fined-grained control.

3. Start development environment:

```bash
npm run dev
```

Open the server URL in your web browser.

4. For testnet/mainnet deployment:

When you are ready for testnet, you need to deploy your contract using
`stellar registry`. Some commands to get you started.

```bash
#  Note --source-account argument is omitted for clarity

# First publish your contract to the registry
stellar registry publish

# Then deploy an instance with constructor parameters
stellar registry deploy \
  --deployed-name my-contract \
  --published-name my-contract \
  -- \
  --param1 value1

# Can access the help docs with --help
stellar registry deploy \
  --deployed-name my-contract \
  --published-name my-contract \
  -- \
  --help

# Install the deployed contract locally
stellar registry create-alias my-contract
```

## 📁 Estructura del Proyecto CARBONXO

```
carbon-xochi/
├── contracts/                      # Contratos inteligentes Rust/Soroban
│   ├── carbon-certifier/          # Contrato NFT de Certificados de Carbono
│   └── carbon-token/               # Contrato Token Fungible CARBONXO (CXO)
├── src/                            # Frontend React/TypeScript
│   ├── components/                 # Componentes UI
│   │   ├── CertificateCard.tsx    # Tarjeta de certificado NFT
│   │   ├── CertificateList.tsx    # Lista de certificados con filtros
│   │   ├── MintCertificate.tsx    # Formulario de acuñación
│   │   ├── TransferTokens.tsx     # Formulario de transferencia
│   │   └── TokenBalance.tsx       # Display de balance CXO
│   ├── hooks/                      # Custom React Hooks
│   │   ├── useCertificates.ts     # Fetch paginado de certificados
│   │   ├── useVerifierRole.ts     # Verificación de admin
│   │   ├── useCarbonBalance.ts    # Balance de tokens CXO
│   │   └── useGlobalMetrics.ts    # Métricas globales
│   ├── pages/                      # Páginas de la aplicación
│   │   ├── Dashboard.tsx          # Vista principal con métricas
│   │   ├── Certificates.tsx       # Lista completa de certificados
│   │   ├── Mint.tsx               # Página de acuñación
│   │   ├── Transfer.tsx           # Página de transferencias
│   │   └── Debugger.tsx           # Debug de contratos
│   ├── contracts/                  # Clientes TypeScript generados
│   │   ├── carbon_certifier.ts    # Cliente CarbonCertifier
│   │   └── carbon_token.ts        # Cliente CarbonToken
│   └── App.tsx                     # App principal con rutas
├── docs/                           # Documentación del proyecto
├── environments.toml               # Configuración de entornos
└── package.json                    # Dependencias y scripts
```

## 🎯 Contratos Implementados

### CarbonCertifier (NFT de Certificados)

- ✅ Acuñación de certificados NFT
- ✅ Transferencia de certificados
- ✅ Quema de certificados
- ✅ Listado paginado con filtros
- ✅ Métricas globales (total certificados, CO2e)

### CarbonToken (Tokens CXO Fungibles)

- ✅ Mint y transferencias
- ✅ Approve y allowance
- ✅ Balance por usuario

## ✨ Frontend Implementado

### Páginas Principales

1. **Dashboard** (`/`) - Vista general con métricas y balance
2. **Certificados** (`/certificates`) - Lista completa de NFT
3. **Acuñar** (`/mint`) - Formulario para verificadores
4. **Transferir** (`/transfer`) - Envío de tokens CXO
5. **Debugger** (`/debug`) - Testing de contratos

### Características

- ✅ Validación con Zod
- ✅ Autorización con useVerifierRole
- ✅ Métricas en tiempo real
- ✅ Paginación y filtros
- ✅ Diseño con Stellar Design System
- ✅ Manejo de estados (loading, error, success)

## 🚀 Para Empezar

```bash
# Instalar dependencias
npm install

# Iniciar desarrollo
npm run dev

# Abrir http://localhost:5173
```

## 📚 Documentación

Ver carpeta `docs/` para documentación detallada de cada componente y funcionalidad.
